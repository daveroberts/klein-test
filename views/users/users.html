<h1>Users</h1>
<table ng-show="users.length" class="table table-striped">
  <thead>
    <tr><th>Name</th></tr>
  </thead>
  <tbody>
    <tr ng-repeat="user in users">
      <td><a href="" ng-click="editUser(user)">{{user.name}}</a></td>
    </tr>
  </tbody>
</table>
<div ng-hide="userToEdit">
  <h3>New User</h3>
  <form ng-submit="createUser()">
    <div>Name <input type="text" ng-model="name" /></div>
    <div><button class="btn btn-primary"><i class="icon-plus"></i> Create User</button></div>
    <div style="color: red;">{{nameError}}</div>
  </form>
</div>
<div ng-show="userToEdit">
  <h3>Edit User</h3>
  <form name="editUserForm" ng-submit="updateUser(userToEdit)">
    <div>ID: {{userToEdit.id}}</div>
    <div>Name <input type="text" ng-model="userToEdit.name" /></div>
    <div>
      <button type="submit" class="btn btn-primary" ngc="updateUser(userToEdit)">Save</button>
      <a class="btn" ng-click="cancelEdit(userToEdit)">Cancel</a>
      <a class="btn btn-danger" ng-click="deleteUser(userToEdit)"><i class="icon-trash"></i> Delete</a>
    </div>
  </form>
</div>
<div>
  <a href="/secure">Secure Area</a>
  <div ng-show="current_user">Logged in as {{current_user}} <button class="btn btn-mini" ng-click="logout()">Logout</button></div>
  <form ng-hide="current_user">
    <table class="table">
      <tbody>
        <tr>
          <td><label for='username'>Username</label></td>
          <td><input id='username' type='text' ng-model='username' /></td>
        </tr>
        <tr>
          <td><label for='password'>Password</label></td>
          <td><input id='password' type='password' ng-model='password' /></td>
        </tr>
        <tr>
          <td></td>
          <td><button class="btn btn-primary btn-mini" ng-click='login()'>Login</button></td>
        </tr>
      </tbody>
    </table>
  </form>
</div>
